---
title: "demographic_code"
output: html_document
---

```{r load data, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
# rm(list = ls()) # clear environment

# load data

setwd("C:/Users/pscmgo/OneDrive for Business/PhD/Project/Experiment_Code/Straights") # set working directory
# setwd("C:/Users/Courtney/Documents/PhD/Project/Experiment_code/Straights")
temp = list.files(pattern = c("BenLui17_17_", "*.csv")) # list all CSV files in the directory
myfiles = lapply(temp, read.csv) # read these CSV in the directory
workingdata <- do.call(rbind.data.frame, myfiles) # convert and combine the CSV files into dataframe

```

```{r adding demographic information to data frame}
library(dplyr)

workingdata <- workingdata %>%
  group_by(trialn) %>%
  mutate(gender = 2, age = 35, licenseTime = 180, contacts_glasses = FALSE, pNum = 17, handedness = 1) %>% # female = 1, male = 2; license time in months; right = 1, left = 2
  ungroup()

```

```{r removing first 2 columns}

# full datasets
setwd("C:/Users/pscmgo/OneDrive for Business/PhD/Project/Experiment_Code/Straights/Full_Data") # set working directory on personal laptop
# setwd("C:/Users/Courtney/Documents/PhD/Project/Experiment_code/Straights/Full_Data")
temp = list.files(pattern = c("BenLui17_16_full")) # list all CSV files in the directory
myfiles = lapply(temp, read.csv) # read these CSV in the directory
workingdata <- do.call(rbind.data.frame, myfiles) # convert and combine the CSV files into dataframe


# workingdata[1:2] <- NULL

```

```{r saving new combined data frame}

setwd("C:/Users/pscmgo/OneDrive for Business/PhD/Project/Experiment_Code/Straights/Full_Data") # set directory for data saving
write.csv(workingdata, file = "BenLui17_17_full.csv")

```

